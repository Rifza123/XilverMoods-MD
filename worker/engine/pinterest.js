const { default:SETTING } = await r('../../validator/config.js')
const modul = SETTING['modul']
const axios = modul['axios'];
const cheerio = modul['cheerio']

function pinterest(querry){
	return new Promise(async(resolve,reject) => {
		 axios.get('https://id.pinterest.com/search/pins/?autologin=true&q=' + querry, {
			headers: {
               Cookie: 'ar_debug=1; csrftoken=6b3d546afafb23bc4137fb761b4bc624; _routing_id="c7ecb7d1-a768-4ef6-8663-e3164cb29354"; sessionFunnelEventLogged=1; g_state={"i_l":0}; _auth=1; _pinterest_sess=TWc9PSZqSUZLSkJHTFgyMlQrVERlY28rb0ZKaEkzUkVnK0w1K0hOYlcrQTVuWVZyY0M1WHlFZkpFVWo0eWg1REJjUXcrdUdQRGhQRGx0aVZBZlZTcnFaRWRSMkwzdG9RQTVURFJiUThzQWRDTHh3blVSbGRFbzBtb0JjYk14MEhWWnNFa2dMdWVBbzJrd2wxcmVISnR5VXpjRmpFZ25XMHRKeGhGTHpEOVlmc0hkRkkwRkJuc21aY3FkK2UwV29ldHFFVnExWU9KQ2kySXhYSStTSkN3cytaOHMvRFpDQnlhQkt4dEUwR3VLeVM3Z3NGRXpJeUZDeVZmU2I2ZUdaQTc4M2ZtMHhRR2N2N3o0NFdUMzFFRVBCZ0JOMVE2SDM1OEhnM3JvMVNUNlB1M1FkRHYrY2JNOUNIME5uVWdWUmhtWFBtazdzV3FBeVlKNFJ1M0IxdmpCMklkL2tQRFVRUm5zMk1Xb095VFMxUCtEYkdXSUR1Mk0xUFdaVkRwREo2NVBmUE5Xd2E3dnJXTHpMQkhBamNwVCtzcmd0dkFPT3ZlZEpPYVY3WTg1K3lqSWJzODR6MFZpRi9tWEh3eVk2TzZFdzh5alhMLytHaDFrQmhrYXVvOVBibFV4aEE0cmo0bFdnVHZjY09DU1JwSVBESVgxdXE4QzA2NWFOOW5lbHJxeHI4cnBRcW45RnNjU3o4aUs1OFFJV3pPYnZnVzk0TW15dnQ3ZHVqakZQaGlxQXl2YmhrS2hjU1NndURJcXkwYUt5M1pwN3F4bG1ISTZmWHFJOElWVm1QKy9VOXhRc0VQWE5ZQkxRRUg4cXVJdzNiVjFYUWUvcmZNOUtQRnFldUs4TFZaVGh5UlU4a28wNVZWLzVwcTR0YmdpMlJZZG53OXFnc2xmYUQzN0N1eTFUbndEU3dQWmJuTGNzSU1vSWFmb05zMkRsYllucXh4MlpHejF4SVhsMlpabWN6NGVjZ1FKNEEvNHRGS3V6ZlBLQTRHV3BqQ2h4ZE9zcnc5NmxaRGVKcHBDeGN5ci9SOHl4TnJGYmZRQ3p6MmxxRlplWUNCQnNVY0lDWkI5VmFOd09qakZkQlU3RjNXTm1LMEhIM200MUdvelJVTzlkNmF2RngwSWxMWUJNSVR3TDVWejlKaVhlUXZMM1pTamxpRFhrckJ0Nmo4L0JteUlSYzNBUVF3YS9rQUFQZHRpZDFXSGx1RmsybFJwNEhsYTNocFplYWhQRUtONjZKRFZSbUp6L0M2MHVBdHQ1YjUyVEtFVy80blpUV0RON1FnNDVDWWhIU2g2NzR2eDNhTU5vUGh2K2ZmRVZvTFpIWmZpWmRUUGRhVi9jcExFendIWlYzYldVQUlxbjV6bjNOTTZZbUp3RkFMM01NUkxtSXJIbktvd2taTGhEdVZWNHN3dXpCalR0TGtBWDFPalZtSFFBNjVnTkE4RFRTN0g1dTF2OGtJanpIQ0N3c3RhU25lUmpUdDFzVEYxeUxjN1dwY2J2RXF0V3RDYTlERHZRVC92UnR3Z05PM2t1SUVRd0NPN1VpSElDOG8rYmJxWE5YanZyVXp3RkdzSkJCS0VBeTVMVnd4TFlpcG1yYjY4b0NOU2NDN3pxSWVVd3pPcnF1ZlcrWjBJUXNMUFJSTGNIT0MvVVVMUTVQRkVKaXc3cWJoOGN3bldhWHd0cDhwd24xaG80azBuMWtJNC8valVLbDNBakp1WExjWHEzZVJiZ1V4WVQ3VkN1c3R0RE82M21YbkRkM3pBYXlzd0FJcGRNbzNDODd4dzY3Zy8wWm4mSFM5WUlrZ0VreDNkV2MzMXVrVit2VE5uaDJFPQ==; __Secure-s_a=eG1zQW9ndDc4TlYzNFNXR3FMY2I4WC9IZk9sMU82U3dQc2o1bHk2RURaV1NlQndZVmtKUGl2dERoU2h3NmwvOWNYbHJiUm8vdjF4N0VNVldtU25NUFduKzg4ZS91UjJMYjd4T3FsaUp3RDh2a2lZR04zdlZJaEJYUElBVlBaV0g1RVducTRYUVVwNmxRbEl2N29adWM4U2NHM1JXRHhuN1JJWm4ra3QrdTU4WjlrYnl0Vng4Z2M4aFlIdHhoMFlicDB4OGlpbHIzd2dPUnFGWEZxb0YyL0FTUnJMRGxIQ2twa05KMHlpV1RYRUd2THNlVndsNUJuQXVzSzBjUXRoOTM1TTdSUG5qTEI1Yk1ZbTVERzdCZ3gycHhiNzIydTNRaTBqTkY5NTV5VE5na1NXWHQrbklKWGJOWWEvOTZXQS9FQnR5NDVETFFXbjlyQVEwSDRGbkR2MEF1MEd2NXdEcVlkeGsxN1lmRnNVa05mT2xrNHpFWFJtZU1YRC9BSFBDVUloL25Ra2o0RERSQmIxS09FQ0dUblZTd2R6VU8wZVBqNkZSSXlDT1JPbG1Sb2FLNExFL3o2ZGM1SGZiVUxCWHpwV2xLU2dyaUFhTmhDMUIzMW5JWkV6M1JOSDRmbmZ4RDBoc0JYL2RYdlA0MjBjcDcyTU11VDEyZGhjandjTWwydUJYQ0xuY052WWhQRkZacCtuMFJ2d2V1dUxaRDJTUjdUNWVXQ2ZoMFNwWlV0UnRLd0k2OWl1TW5tVGcrSkEvbUxiYmJLcC8zN0ZjV3NXVFFVajJ6SGhwYzBtOWViaWtEWExUOWhPWFhYMFM1b1o4b2RNRHJ1MWZEbVhmQ0oycEUvV0prcWJJSWlMVjNidEVSczRQanhtVzNBSUU3c2R2dTZ5RWRvZTJVa05ZU3d3NVhFUU1JenM1d05TYStkQkI2WFZvR1JpeitRaW9YYlFmeWluRXJ5U0Y5SGQreEw4citVNFE4ZnR3U0h4RkdSM0JKUUZ1ZkpxTkVhMTZxYVVSVDVpOTNkaEtBRjFDUDdIUWdLR0tmd3FOV1B6Q1Y4ZWNZUk9BTXJVa2xETHUydXdpT0Y4WnpZNytGVi8xd1ZuT0ppSzhxdGE0QXNBblRtZDBPcWJRdmpqTkZWQjIraTZBV3F4MGQxalRLd2w5L2pBMHYvUTRTNkVycS9CS0NsOFhEakF2UE82UE92YlhVUDd5VWJsWThud256TWdnVlFZWHNWWm1nUDFZUXQwOHk2dXFVNE0zMWR4TlduaVpuYk1iRkFoNFcvM001ZHZNQ1hzSXp2VnpPRnBsYmN5T1ZJV2x5TWRZeThDV08xOD0mTFExQ0tGenFEdUhrUDNMYVBmYjRBTG9ubktNPQ==; _b="AXiJnIdgNJNMRo8Bxp5RrbLPj7WRYUhxtE3rYhSOpscwHoOwRtWAldWhzgsiTckxsSQ="; _pinterest_referrer=https://www.google.com/'
		}
			}).then(({ data }) => {
		const $ = cheerio.load(data)
		const result = [];
		const hasil = [];
 		 $('div > a').get().map(b => {
 const link = $(b).find('img').attr('src')
 result.push(link)
		});
 		result.forEach(v => {
		 if(v == undefined) return
		 hasil.push(v.replace(/236/g,'736'))
			})
			hasil.shift();
		resolve(hasil)
		})
	})
}

function r(_){ return import(_) }

export { pinterest }